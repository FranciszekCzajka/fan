<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="header">
        <h1>FUN</h1>
    </div>
    <div class="landing">
        <div class="form">
            <input class="input" type="text" />
            <input class="submit" type="submit" value="Check!"/>
        </div>
        <div class="list">
            <ul class="nutrients"></ul>
        </div> 
        <div class="results">
            <ul class="results-names"></ul>
        </div>       
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(function (){
            var datas = $('.list');
            var nutrients = $('.nutrients');
            $.ajax({
                type: 'GET',
                url: 'https://api.nal.usda.gov/fdc/v1/food/173944%20?api_key=nBKTTixEru2BA0nzf0DBnapEY5Tc6iERJ3lXpUU8',
                success: function(data) {
                    datas.prepend('<h1>Food: ' + data.description + '</h1>');
                    nutrients.append('<li>' + data.foodNutrients[2].nutrient.name + " " + data.foodNutrients[2].amount + " " + data.foodNutrients[2].nutrient.unitName + '</li>');
                    nutrients.append('<li>' + data.foodNutrients[4].nutrient.name + " " + data.foodNutrients[4].amount + " " + data.foodNutrients[4].nutrient.unitName + '</li>');
                    nutrients.append('<li>' + data.foodNutrients[5].nutrient.name + " " + data.foodNutrients[5].amount + " " + data.foodNutrients[5].nutrient.unitName + '</li>');
                    nutrients.append('<li>' + data.foodNutrients[8].nutrient.name + " " + data.foodNutrients[8].amount + " " + data.foodNutrients[8].nutrient.unitName + '</li>');
                    nutrients.append('<li>' + data.foodNutrients[10].nutrient.name + " " + data.foodNutrients[10].amount + " " + data.foodNutrients[10].nutrient.unitName + '</li>');
                    nutrients.append('<li>' + data.foodNutrients[9].nutrient.name + " " + data.foodNutrients[9].amount + " " + data.foodNutrients[9].nutrient.unitName + '</li>');
                }
            });

            var results = $('.results-names');
            $(".submit").click(function() {
                if($(".input").val().length > 0) {
                    var input = $(".input").val();
                }
                $.ajax({                
                    type: 'GET',
                    input: {"data": input},
                    url: 'https://api.nal.usda.gov/fdc/v1/foods/search?query=' + input + '&dataType=Survey%20%28FNDDS%29&pageSize=200&pageNumber=1&sortBy=dataType.keyword&api_key=nBKTTixEru2BA0nzf0DBnapEY5Tc6iERJ3lXpUU8',
                    success: function(data) {
                        results.empty();

                        for(var counter = 0; counter < 10; counter++) {
                            results.append('<li>' + data.foods[counter].description + '</li>');
                        }

                        /*$.each(data.foods, function(ID, foodName) {
                            results.append('<li>' + foodName.description + '</li>');
                            console.log(foodName.description);
                        });*/
                    }
                });                
            });
        });
    </script>
</body>
</html>